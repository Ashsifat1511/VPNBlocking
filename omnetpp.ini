[General]
network = vpnblocking.VPNBlockNetwork
sim-time-limit = 100s

# Output settings
cmdenv-express-mode = true
cmdenv-autoflush = true
**.vector-recording = true
**.scalar-recording = true

# Visualization (uncomment if you enable visualizer in NED)
# **.visualizer.*.interfaceTableVisualizer.displayInterfaceTables = true

# Client configuration - VPN traffic generator
**.client.numApps = 1
**.client.app[0].typename = "VPNTrafficApp"
**.client.app[0].localPort = 5000
**.client.app[0].destPort = 5000
**.client.app[0].destAddresses = "blockedServer"
**.client.app[0].startTime = 1s
**.client.app[0].stopTime = 90s
**.client.app[0].sendInterval = exponential(0.5s)
**.client.app[0].packetLength = 1200B
**.client.app[0].simulateIPsec = true

# Server configuration - receive VPN traffic
**.blockedServer.numApps = 1
**.blockedServer.app[0].typename = "UdpBasicApp"
**.blockedServer.app[0].localPort = 5000

# Gateway/Firewall configuration
# Note: You need to define FirewallRouter module or use a custom router with VPNDetector

# Network settings
**.client.eth[*].bitrate = 100Mbps
**.gateway.eth[*].bitrate = 100Mbps
**.blockedServer.eth[*].bitrate = 100Mbps

[Config Default]
description = "VPN blocking simulation with default settings"

[Config IPsecBlocking]
description = "Block IPsec VPN traffic"
**.client.app[0].simulateIPsec = true
# Configure VPNDetector on gateway if integrated
# **.gateway.vpnDetector.blockIPsec = true
# **.gateway.vpnDetector.blockOpenVPN = false
# **.gateway.vpnDetector.blockPPTP = false

[Config OpenVPNBlocking]
description = "Block OpenVPN traffic"
**.client.app[0].simulateIPsec = false
**.client.app[0].destPort = 1194  # OpenVPN default port
# **.gateway.vpnDetector.blockIPsec = false
# **.gateway.vpnDetector.blockOpenVPN = true
# **.gateway.vpnDetector.blockPPTP = false

[Config NoBlocking]
description = "No VPN blocking - baseline comparison"
# **.gateway.vpnDetector.blockIPsec = false
# **.gateway.vpnDetector.blockOpenVPN = false
# **.gateway.vpnDetector.blockPPTP = false

[Config HighTraffic]
description = "High traffic load simulation"
**.client.app[0].sendInterval = exponential(0.1s)
**.client.app[0].packetLength = 1500B
sim-time-limit = 50s

[Config LongSimulation]
description = "Long simulation for statistical analysis"
sim-time-limit = 500s
**.client.app[0].sendInterval = exponential(1s)
